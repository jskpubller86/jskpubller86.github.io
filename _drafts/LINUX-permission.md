---
title : 리눅스 권한
categories : linux
---

파일과 디렉터리를 접근 및 사용하려면 그에 상응하는 권한을 가지고 있어야 한다. 

이러한 권한을 확인하고 변경하는 방법을 알아보겠다. 

우선 현재 파일 또는 디렉터리 권한을 확인하기 위해서 ls -l 명령을 실행하면 권한에 대한 상세정보를 확인할 수 있다. 

```sh
# ls -l
drwxr-xr-x   2 root root 4096 Apr 18  2022 boot
drwxr-xr-x   5 root root  360 Feb 15 01:52 dev
...
```

위 내용에서 파일 권한을 확인하기 위해서 먼저 리눅스에서 파일 속성의 항목에 대해서 알아보겠다. 

항목은 다음과 같다.

[ 파일유형 / 파일 허가권 / 링크 수 / 파일 소유자 이름 / 파일 소유그룹 이름 / 파일크기(Byte) / 마지막 변경 날짜/시간 / 파일 이름 ]


이 항목을 기억하고 위의 파일 속성 부분을 해석해 보겠다.

```sh
drwxr-xr-x   2 root root 4096 Apr 18  2022 boot

-> 항목별 구분

d / rwxr-xr-x / 2 / root / root / 4096 / Apr 18 2022 / boot
```

위에서 파일의 속성 내용을 슬래쉬를 이용하여 항목별로 분리했다.

앞에서 부터 확인하면 다음과 같다.

```sh
d -> 파일유형

rwxr-xr-x   -> 파일 허가권

2 -> 링크수

root -> 파일 소유자 이름

root -> 파일 소유그룹 이름

4096 -> 파일크기(Byte)

Apr 18 2022 -> 마지막 변경 날짜/시간

sample.txt -> 파일 이름
```

여기서 파일 허가권, 파일 소유자 이름, 파일 소유그룹 이름을 이해하면 파일 권한을 해석할 수 있다.

## 파일 허가권

파일 허가권은 3자리씩 3개의 부분으로 되어 있다. 

위의 rwxr-xr-x을 3부분으로 나눠보면 다음과 같다. 

```sh
rwx, r-x, r-x
```

여기서 r은 read, w는 write, x는 excute의 약자이다.  하이픈(-)은 지정된 권한이 없음을 의미한다.

위에서 분리된 3개의 부분에서 첫 번째는 소유자의 파일 접근 권한을 의미하고 두 번째는 그룹의 파일 접근 권한을, 세 번째는 그외 사용자의 접근 권한을 의미한다.

이를 해석하면 파일의 소유자는 읽기, 쓰기, 실행을 모두 할 수 있고  그룹과 그외 사용자는 읽기와 실행만 할 수 있음을 알 수 있다.

이러한 파일 허가권은 알파벳 말고 숫자로도 표현할 수 있으며 각 알파벳에 대응하는 숫자는 다음과 같다. 

```sh
r - 4
w - 2
x - 1
하이픈(-)은 0
```

파일 허가권을 변경하는 경우 보통 이 숫자를 사용하는데 다음과 같이 chmod 명령에 숫자를 결합하여 변경하며 숫자는 각 권한을 더한 값을 사용한다.

ex) (4+2+1) = 7

```sh
chmod 777 sample.txt
```





